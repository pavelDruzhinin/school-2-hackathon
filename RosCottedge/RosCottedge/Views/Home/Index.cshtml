@model PagedList.IPagedList<RosCottedge.Models.House>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Главная страница";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="map_canvas"></div>
<section id="search">
  <div class="container">
    <form class="searchBox mainBox" method="post">
      <div class="mainField">
        <div class="area searchFields">
          <input type="text" placeholder="Район" name="region">
        </div>
        <div class="dates searchFields">
          <input type="text" placeholder="Заезд" name="arrivalDate" id="date1" class="date">
          <input type="text" placeholder="Выезд" name="departureDate" id="date2" class="date">
        </div>
        <div class="prices searchFields">
          <input type="text" id="minCost" placeholder="Цена от" name="startPrice" minVal="@ViewBag.MinPrice">
          <input type="text" id="maxCost" placeholder="Цена до" name="finishPrice" maxVal="@ViewBag.MaxPrice">
          <div id="slider-range"></div>
        </div>
        <div class="numPersons searchFields">
          <input type="text" placeholder="Кол. человек" name="numberOfPersons">
        </div>
        <input type="submit" value="Подобрать" class="red">
      </div>
      <div class="addField">
        <div class="sortingBox">
          <span class="sorting"></span>
          <span>Сортировка</span>
        </div>
      </div>
    </form>
  </div>
</section>

<div class="houses">
  <div class="container">
    <div class="row">
      @foreach (var item in Model)
      {
      <div class="col-md-6 houseItem">
        <div class="imgBox" style="background-image: url('../../Content/img/chubaka.jpg')"></div>
        <div class="ContentBox">
          <h2 class="nameHouse"><a href="/House/Index?houseId=@item.Id">@item.Name</a></h2>
          <span class="address">@item.Locality, @item.Area</span>
          <ul class="optionsHouse">
            <li><p><span class="man op54"></span>@item.NumberOfPersons</p></li>
            <li><p><span class="rub op54"></span>@item.Price руб./сутки</p></li><br>
            <li><p><span class="com op54"></span>@item.Reviews.Count()</p></li><br>
            <li><p><span>Регион</span>@item.Region</p></li>
          </ul>
          <div class="ratingHouse" rating="@item.Rating">
            <h2>Оценка пользователей</h2>
            <ul>
              <li ratingItem="1"></li>
              <li ratingItem="2"></li>
              <li ratingItem="3"></li>
              <li ratingItem="4"></li>
              <li ratingItem="5"></li>
            </ul>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>

@Html.PagedListPager(Model, page => Url.Action("Index", new { page }))

@section scripts {
    @Scripts.Render("/Scripts/config/main.js")
}
